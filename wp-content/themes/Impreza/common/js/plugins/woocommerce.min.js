!(function($,_undefined){const $ush=window.$ush||{};function WooCommerce(){const self=this;self.$cart=$('.w-cart');self.$cartCloser=$('.w-cart-closer',self.$cart);self.$cartLink=$('.w-cart-link',self.$cart);self.$pageContent=$('#page-content');self.$notice=$('.w-wc-notices.woocommerce-notices-wrapper:first',$us.$canvas);self.$addToCart=$('.w-post-elm.add_to_cart',$us.$canvas);self._activeJqXHR={};self._cartOpened=!1;self._removeProcesses=0;self._events={ajaxAddToCart:self.ajaxAddToCart.bind(self),applyCouponCode:self.applyCouponCode.bind(self),changeCartQuantity:self.changeCartQuantity.bind(self),couponCodeChange:self.couponCodeChange.bind(self),couponDisplaySwitch:self.couponDisplaySwitch.bind(self),enterCouponCode:self.enterCouponCode.bind(self),showNotification:self.showNotification.bind(self),loginFieldKeydown:self.loginFieldKeydown.bind(self),minusCartQuantity:self.minusCartQuantity.bind(self),moveNotifications:self.moveNotifications.bind(self),outsideClickEvent:self.outsideClickEvent.bind(self),plusCartQuantity:self.plusCartQuantity.bind(self),removeCartItem:self.removeCartItem.bind(self),showLoginForm:self.showLoginForm.bind(self),submitLoginForm:self.submitLoginForm.bind(self),updateCart:self.updateCart.bind(self),updatedCartTotals:self.updatedCartTotals.bind(self),showCartOnClick:self._showCartOnClick.bind(self),showCartOnKeyup:self._showCartOnKeyup.bind(self),hideCartOnKeyup:self._hideCartOnKeyup.bind(self)};if(self.isCart()){self.$cartNotification=$('.w-cart-notification',self.$cart);self.$cartNotification.on('click',()=>{self.$cartNotification.fadeOutCSS()});if($.isMobile){self.$cart.on('click','.w-cart-link',(e)=>{if(!self._cartOpened){e.preventDefault();self.$cart.addClass('opened');$us.$body.on('touchstart.noPreventDefault',self._events.outsideClickEvent)}else{self.$cart.removeClass('opened');$us.$body.off('touchstart',self._events.outsideClickEvent)}
self._cartOpened=!self._cartOpened})}else{if(self.$cart.hasClass('drop_on_click')||self.$cart.is('[class*="_panel"]')){self.$cartLink.on('keyup',self._events.showCartOnKeyup);self.$cartLink.on('click',self._events.showCartOnClick)}
$us.$body.on('keyup',self._events.hideCartOnKeyup);if(self.$cart.hasClass('layout_left_panel')||self.$cart.hasClass('layout_right_panel')){self.$cartCloser.on('click',(e)=>{self._toggleCart(!1)});self.$cartCloser.on('keyup',(e)=>{if(e.keyCode===$ush.ENTER_KEYCODE){self._toggleCart(!1,self.$cartLink)}})}}
$us.$body.on('wc_fragments_loaded wc_fragments_refreshed',self._events.updateCart).on('added_to_cart',self._events.showNotification).on('removed_from_cart',self._events.updateCart)}
if(self.isCartPage()){$us.$body.on('change initControls','input.qty',self._events.changeCartQuantity).on('change','.w-wc-coupon-form input',self._events.couponCodeChange).on('keyup','.w-wc-coupon-form input',self._events.enterCouponCode).on('click','.w-wc-coupon-form button',self._events.applyCouponCode).on('click','a.remove',self._events.removeCartItem).on('click','input.minus',self._events.minusCartQuantity).on('click','input.plus',self._events.plusCartQuantity).on('applied_coupon removed_coupon',self._events.couponDisplaySwitch).on('updated_cart_totals',self._events.updatedCartTotals);$('input.qty',$us.$canvas).trigger('initControls');$.ajaxPrefilter((_,originalOptions,jqXHR)=>{const data=$ush.toString(originalOptions.data);if(data.indexOf('&update_cart')>-1){self._activeJqXHR.updateCart=jqXHR}
if(data.indexOf('&us_calc_shipping')>-1){jqXHR.done((res)=>{$('.w-cart-shipping .woocommerce-shipping-destination').html($('.w-cart-shipping:first .woocommerce-shipping-destination',res).html())})}});$('.w-cart-shipping form.woocommerce-shipping-calculator',$us.$canvas).append('<input type="hidden" name="us_calc_shipping">')}
if(self.isCheckoutPage()){$us.$body.on('change','.w-wc-coupon-form input',self._events.couponCodeChange).on('keyup','.w-wc-coupon-form input',self._events.enterCouponCode).on('click','.w-wc-coupon-form button',self._events.applyCouponCode).on('applied_coupon_in_checkout removed_coupon_in_checkout',self._events.couponDisplaySwitch).on('applied_coupon_in_checkout removed_coupon_in_checkout checkout_error',self._events.moveNotifications).on('click','.w-checkout-login .showlogin',self._events.showLoginForm).on('click','.w-checkout-login button',self._events.submitLoginForm).on('keydown','.w-checkout-login input, .w-checkout-login button',self._events.loginFieldKeydown);const $couponField=$('.w-wc-coupon-form input',$us.$canvas);$us.$document.on('keypress',(e)=>{if(e.keyCode===$ush.ENTER_KEYCODE&&$couponField.is(':focus')){e.preventDefault()}})}
if($us.$body.hasClass('us-ajax_add_to_cart')){$us.$body.on('click','.single_add_to_cart_button:not(.disabled)',self._events.ajaxAddToCart)}
if(self.$addToCart.length>0){$us.$body.on('click','input.minus',self._events.minusCartQuantity).on('click','input.plus',self._events.plusCartQuantity).on('change initControls','input.qty',self._events.changeCartQuantity)}
$us.$document.on('ajaxComplete',(_,jqXHR,settings)=>{if(String(jqXHR.responseText).charAt(0)==='{'){return}
const $fragment=$(new DocumentFragment).append(jqXHR.responseText);if(self.isCartPage()&&$('.cart_totals',$fragment).length>1){const notices=self.$notice.html();self.$pageContent.html($('.l-main',$fragment));self.$notice=$('.w-wc-notices.woocommerce-notices-wrapper:first',$us.$canvas);if(notices){self.$notice.html(notices)}}
if(String(settings.url).includes('wc-ajax=apply_coupon')){const $message=$('.woocommerce-error, .woocommerce-message',$fragment);if($message.length>0){self.$notice.html($message.clone())}else{self.$notice.html('')}}
if(self.$cart.hasClass('open_on_ajax')&&(self.$cart.hasClass('layout_left_panel')||self.$cart.hasClass('layout_right_panel'))&&settings.url.includes('add_to_cart')){self._toggleCart(!0);self.$cart.on('transitionend',()=>{self.$cartCloser[0].focus();self.$cart.off('transitionend')})}})}
$.extend(WooCommerce.prototype,{isCart:function(){return this.$cart.length>0},isCartPage:function(){return $us.$body.hasClass('woocommerce-cart')},isCheckoutPage:function(){return $us.$body.hasClass('woocommerce-checkout')},updateCart:function(){const self=this;$.each(self.$cart,(_,cart)=>{var $cart=$(cart),$cartQuantity=$('.w-cart-quantity',$cart),miniCartAmount=$('.us_mini_cart_amount:first',$cart).text();if($cart.hasClass('opened')&&!$cart.hasClass('drop_on_click')&&!$cart.hasClass('layout_left_panel')&&!$cart.hasClass('layout_right_panel')){$cart.removeClass('opened')}
if(miniCartAmount!==_undefined){miniCartAmount=String(miniCartAmount).match(/\d+/g);$cartQuantity.html(miniCartAmount>0?miniCartAmount:'0');$cart[miniCartAmount>0?'removeClass':'addClass']('empty')}else{var total=0;$('.quantity',$cart).each((_,quantity)=>{var matches=String(quantity.innerText).match(/\d+/g);if(matches){total+=parseInt(matches[0],10)}});$cartQuantity.html(total>0?total:'0');$cart[total>0?'removeClass':'addClass']('empty')}})},showNotification:function(e,fragments,_,$button){if($ush.isUndefined(e)){return}
const self=this;self.updateCart();const $notice=self.$cartNotification;const theProductName=$button.closest('.product, .w-popup-box-content').find('.woocommerce-loop-product__title, .w-post-elm.post_title').first().text();$('.product-name',$notice).html(`"${theProductName}"`);if($notice.hasClass('skip_message')){$notice.removeClass('skip_message');return}
$notice.addClass('shown');$notice.on('mouseenter',()=>{$notice.removeClass('shown')});$ush.timeout(()=>{$notice.removeClass('shown').off('mouseenter')},3000)},outsideClickEvent:function(e){const self=this;if($.contains(self.$cart[0],e.target)){return}
self.$cart.removeClass('opened');$us.$body.off('touchstart',self._events.outsideClickEvent);self._cartOpened=!1},removeCartItem:function(e){var $item=$(e.target).closest('.cart_item').addClass('change_process');if(!$item.siblings('.cart_item:not(.change_process)').length){$('.w-cart-table',$us.$canvas).remove()}},changeCartQuantity:function(e){if($us.usbPreview()){return}
const self=this;const $input=$(e.target);const isGroupTable=$input.closest('.cart').hasClass('grouped_form');const max=$ush.parseInt($input.attr('max'))||-1;const min=$ush.parseInt($input.attr('min'))||(isGroupTable?0:1);var value=$ush.parseInt($input.val());if($input.is(':disabled')){return}
if(min>=value){value=min}
if(max>1&&value>=max){value=max}
if(value!=$input.val()){$input.val(value)}
$input.siblings('input.plus:first').prop('disabled',(max>0&&value>=max));$input.siblings('input.minus:first').prop('disabled',(value<=min));if(e.type=='initControls'){return}
$('input[name=us_cart_quantity]',$us.$canvas).val(!0);if(!$('.w-cart-table',$us.$canvas).hasClass('processing')){self.__updateCartForm_long(self._updateCartForm.bind(self))}else{self._updateCartForm()}},minusCartQuantity:function(e){const self=this;var $target=$(e.target),$input=$target.siblings('input.qty:first');if(!$input.length){return}
const step=$ush.parseInt($input.attr('step')||1);$input.val($ush.parseInt($input.val())-step).trigger('change')},plusCartQuantity:function(e){const self=this;var $target=$(e.target),$input=$target.siblings('input.qty:first');if(!$input.length){return}
const step=$ush.parseInt($input.attr('step')||1);$input.val($ush.parseInt($input.val())+step).trigger('change')},__updateCartForm_long:$ush.debounce($ush.fn,50),_updateCartForm:function(){const self=this;if(typeof(self._activeJqXHR.updateCart||{}).abort==='function'){self._activeJqXHR.updateCart.abort()}
$('.w-cart-table > button[name=update_cart]',$us.$canvas).removeAttr('disabled').trigger('click')},updatedCartTotals:function(){const self=this;if(!!self._activeJqXHR.updateCart){self._activeJqXHR.updateCart=_undefined}
var wooElementClasses=['w-cart-shipping','w-cart-table','w-cart-totals','w-checkout-billing','w-checkout-order-review','w-checkout-payment','w-wc-coupon-form',];for(const i in wooElementClasses){$(`.${wooElementClasses[i]}.us_animate_this`,$us.$canvas).removeClass('us_animate_this')}
const $shipping=$('.w-cart-shipping .shipping',$us.$canvas);if(!$shipping.length){return}
$shipping.html($('.w-cart-totals .shipping:first',$us.$canvas).html())},couponCodeChange:function(e){$('.w-cart-table, form.checkout_coupon:first',$us.$canvas).find('input[name=coupon_code]').val(e.target.value)},enterCouponCode:function(e){if(e.keyCode===$ush.ENTER_KEYCODE){$(e.target).trigger('change').siblings('button:first').trigger('click')}},applyCouponCode:function(e){e.stopPropagation();e.preventDefault();$('.w-cart-table, form.checkout_coupon:first',$us.$canvas).find('button[name=apply_coupon]').trigger('click');$(e.target).closest('.w-wc-coupon-form').find('input:first').val('')},couponDisplaySwitch:function(e){const $coupon=$('.w-wc-coupon-form',$us.$canvas);if(!$coupon.length){return}
if(e.type.indexOf('applied_coupon')>-1&&!$('.woocommerce-error',$us.$canvas).length){$coupon.addClass('coupon_applied')}
if(e.type.indexOf('removed_coupon')>-1&&$('.woocommerce-remove-coupon',$us.$canvas).length<=1){$coupon.removeClass('coupon_applied')}},moveNotifications:function(e,err_html){const self=this;if(!self.$notice.length){var $cartTotals=$('.w-cart-totals',$us.$canvas),$checkoutPayment=$('.w-checkout-payment',$us.$canvas);if(!$cartTotals.length&&!$checkoutPayment.length){return}}
var $message;if(e.type==='checkout_error'&&err_html){$message=$(err_html)}else{$message=$('.woocommerce-error, .woocommerce-message',$us.$canvas)}
if($message.length>0){self.$notice.html($message.clone())}
$message.remove();if(e.type==='checkout_error'){$('.woocommerce-NoticeGroup-checkout').remove()}},ajaxAddToCart:function(e){const self=this;e.preventDefault();const $button=$(e.currentTarget);if($('.g-preloader',$button).length===0){$button.html(`<div class="g-preloader type_1"><div></div></div><span class="w-btn-label">${$button.html()}</span>`)}
var data={};const $form=$button.closest('form.cart');const formData=new FormData($form[0],$button[0]);formData.forEach((value,key)=>{if(key.includes('[')){const keys=key.split(/\[|\]/).filter((k)=>{return k});keys.forEach((k,index)=>{if(index===keys.length-1){if(Array.isArray(data[k])){data[k].push(value)}else if(data[k]){data[k]=[data[k],value]}else{data[k]=key.includes('[]')?[value]:value}}else{if(!data[k]){data[k]={}}
data=data[k]}})}else{if(data[key]){if(Array.isArray(data[key])){data[key].push(value)}else{data[key]=[data[key],value]}}else{data[key]=value}}});if(data.variation_id){data.product_id=data.variation_id}else if(!data.product_id&&data['add-to-cart']){data.product_id=data['add-to-cart']}
delete data['add-to-cart'];$us.$body.trigger('adding_to_cart',$button,data);$.ajax({type:'POST',url:String(woocommerce_params.wc_ajax_url).replace('%%endpoint%%','add_to_cart'),data:data,beforeSend:()=>{$button.removeClass('added').addClass('loading')},complete:(jqXHR)=>{if(String(jqXHR.responseText).includes('us_redirect_to_cart')){return}
$button.addClass('added').removeClass('loading')},success:(res)=>{if(res.error&&res.product_url){window.location=res.product_url;return}
if(res.fragments.us_redirect_to_cart){window.location.href=res.fragments.us_redirect_to_cart;return}
if(self.isCart()){self.$cartNotification.addClass('skip_message')}
$us.$body.trigger('added_to_cart',[res.fragments,res.cart_hash,$button]);var message='';if(self.isCart()){message=self.$cartNotification.text()}
var $viewCart=$button.next('.added_to_cart.wc-forward').removeClass('added_to_cart');if($viewCart.length){message+=' '+$viewCart.prop('outerHTML');$viewCart.remove()}
$form.next('.woocommerce-notices-wrapper').remove();$form.after(`
						<div class="woocommerce-notices-wrapper">
							<div class="woocommerce-message" role="alert" tabindex="-1">${message}</div>
						</div>
					`)},})},});$.extend(WooCommerce.prototype,{showLoginForm:function(){$('.woocommerce-form-login').toggleClass('hidden');return!1},submitLoginForm:function(){const self=this;if(self.isSubmittingLoginForm){return!1}
self.isSubmittingLoginForm=!0;var $formView=$('.w-checkout-login'),$usernameField=$('#us_checkout_login_username',$formView),$passwordField=$('#us_checkout_login_password',$formView),$redirectField=$('#us_checkout_login_redirect',$formView),$nonceField=$('#us_checkout_login_nonce',$formView);if($usernameField.length==0||$passwordField.length==0||$redirectField.length==0||$nonceField.length==0){return!1}
var fields={'login':'Login','rememberme':'forever','username':$usernameField.val(),'password':$passwordField.val(),'redirect':$redirectField.val(),'woocommerce-login-nonce':$nonceField.val(),},$form=$('<form>',{method:'post'});$.each(fields,(key,val)=>{$('<input>').attr({type:"hidden",name:key,value:val}).appendTo($form)});$form.appendTo('body').submit();return!1},loginFieldKeydown:function(e){if(e.keyCode===$ush.ENTER_KEYCODE){e.stopPropagation();e.preventDefault();this.submitLoginForm()}},_showCartOnClick:function(e){e.preventDefault();const self=this;if(['mouse','touch','pen'].includes(e.pointerType)){self._toggleCart(!self._cartOpened)}},_showCartOnKeyup:function(e){e.preventDefault();const self=this;if(e.keyCode===$ush.ENTER_KEYCODE){if(!self._cartOpened){if(self.$cartCloser.length>0){self.$cart.on('transitionend',()=>{self.$cartCloser[0].focus();self.$cart.off('transitionend')})}}
self._toggleCart(!self._cartOpened)}},_hideCartOnKeyup:function(e){const self=this;if(e.keyCode===$ush.ESC_KEYCODE){self._toggleCart(!1,self.$cartLink)}},_toggleCart:function(open=!0,$elementToFocus=null){const self=this;self.$cart.toggleClass('opened',open);self.$cartLink.attr('aria-expanded',open);self._cartOpened=open;if($elementToFocus!==null){$elementToFocus.focus()}}});$us.woocommerce=new WooCommerce;function us_wc_variations_image_update(variation){var $slider=$('.w-slider.for_product_image_gallery:not(.w-grid .w-slider)',$(this).closest('.product')),royalSlider=($slider.data('usImageSlider')||{}).royalSlider;if($ush.isUndefined(royalSlider)){return}
royalSlider.goTo(0);var $image=$('.rsImg',royalSlider.slidesJQ[0]),$thumb=$('.rsThumb:first img',$slider);if(variation===!1){if(!$slider.data('orig-img')){var src=$image.attr('src');$slider.data('orig-img',{src:src,srcset:src,full_src:src,thumb_src:$thumb.attr('srcset'),gallery_thumbnail_src:$thumb.attr('src'),});return}
variation={image:$slider.data('orig-img'),}}
if($.isPlainObject(variation.image)){$image.attr('src',$ush.toString(variation.image.src)).attr('srcset',$ush.toString(variation.image.srcset));$thumb.attr('src',$ush.toString(variation.image.gallery_thumbnail_src)).attr('srcset',$ush.toString(variation.image.thumb_src));$.extend(royalSlider.currSlide,{bigImage:$ush.toString(variation.image.full_src),image:$ush.toString(variation.image.src),});if(typeof royalSlider.updateSliderSize==='function'){royalSlider.updateSliderSize(!0)}}}
$(()=>{if($('.w-slider.for_product_image_gallery:not(.w-grid .w-slider.for_product_image_gallery)').length>0){$ush.timeout(()=>{$.fn.wc_variations_image_update=us_wc_variations_image_update},1)}});$us.$document.on('usPopup.itemContentLoaded',(e,usPopup)=>{if(typeof $.fn.wc_product_gallery==='function'){$('.woocommerce-product-gallery',usPopup.$content).wc_product_gallery()}})})(jQuery)